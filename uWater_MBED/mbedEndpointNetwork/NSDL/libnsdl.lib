http://developer.mbed.org/users/ansond/code/libnsdl/#9cb268b96ffb
